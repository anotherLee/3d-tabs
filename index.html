<!doctype html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./jquery.min.js"></script>
    <link rel="stylesheet" href="./main.css">
</head>
<body>
    <div class="box">
        <ul id="wrapper">
            <li>
                <a href=""></a>
                <a href=""></a>
                <a href=""></a>
                <a href=""></a>
                <span></span>
                <span></span>
            </li>

        </ul>
        <ul id="buttons">
            <li class="active">1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>

        </ul>
    </div>


    <script>
        var $wrapper = $('#wrapper')
        var liAmount = $wrapper.width() / $('#wrapper').children().first().width()
        var zIndex = 0

        for(var i=0; i<(liAmount-1); i++){

            var $newLi = $(`<li><a href=""></a><a href=""></a><a href=""></a><a href=""></a><span></span><span></span></li>`);

            $newLi.children().css('background-position', -(i+1)*50)  //改变新增图片的

            if(i < (liAmount-1)/2){
                zIndex += 1
//                console.log(zIndex)
                $newLi.css('z-index',zIndex).appendTo($wrapper)
            }else{
                zIndex -= 1
//                console.log(zIndex)
                $newLi.css('z-index',zIndex)
                $newLi.appendTo($wrapper)
            }


        }


        $('#buttons').children().each(function(index,element){
            $(this).click(function(){
                $(this).addClass('active').siblings().removeClass('active')
                $('#wrapper').children().each(function(a,b){
                    console.log(a)
                    console.log(typeof a)
                    $(this).css({
                        'transition-property':'transform',
                        'transition-duration':'1s',
                        'transform':`rotateX(${-index*90}deg)`,
                        'transition-delay':`${50*a}ms`,

                    })


                })

            })
        })















    </script>
</body>
</html>